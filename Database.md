
PS C:\Users\olaba> docker exec -it bookssystemapplication-mysql mysql -u root -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 22
Server version: 8.3.0 MySQL Community Server - GPL

Copyright (c) 2000, 2024, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

* mysql> SHOW TABLES;
ERROR 1046 (3D000): No database selected
* mysql> USE bookssystem;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> SHOW TABLES;
+-----------------------+
| Tables_in_bookssystem |
+-----------------------+
| Authors               |
| Books                 |
| Deliveries            |
| Genres                |
| Notifications         |
| Payments              |
| Publishers            |
| Queue                 |
| Rentals               |
| Reservations          |
| Roles                 |
| Users                 |
+-----------------------+
12 rows in set (0.00 sec)

* mysql> SHOW CREATE TABLE Authors;
+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table   | Create Table
                                                                                                                        |
+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Authors | CREATE TABLE `Authors` (
  `id` int NOT NULL AUTO_INCREMENT,
  `first_name` varchar(255) NOT NULL,
  `last_name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

* mysql> SELECT * FROM Authors;
+----+------------+-------------+
| id | first_name | last_name   |
+----+------------+-------------+
|  1 | Henryk     | Sienkiewicz |
+----+------------+-------------+
1 row in set (0.00 sec)

* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Authors'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
Empty set (0.00 sec)

* mysql> SHOW CREATE TABLE Books;
+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table




                                           |
+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Books | CREATE TABLE `Books` (
  `id` int NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL,
  `author` varchar(255) NOT NULL,
  `publisher` varchar(255) NOT NULL,
  `ISBN` varchar(255) NOT NULL,
  `number_of_pages` int NOT NULL,
  `author_id` int NOT NULL,
  `publisher_id` int NOT NULL,
  `genre_id` int NOT NULL,
  PRIMARY KEY (`id`),
  KEY `PublisherID` (`publisher_id`),
  KEY `GenreID` (`genre_id`),
  KEY `fk_books_authors` (`author_id`),
  CONSTRAINT `Books_ibfk_1` FOREIGN KEY (`publisher_id`) REFERENCES `Publishers` (`id`),
  CONSTRAINT `Books_ibfk_2` FOREIGN KEY (`genre_id`) REFERENCES `Genres` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

* mysql> SELECT * FROM Books;
+----+-------+--------------------+------------------------+---------------+-----------------+-----------+--------------+----------+
| id | title | author             | publisher              | ISBN          | number_of_pages | author_id | publisher_id | genre_id |
+----+-------+--------------------+------------------------+---------------+-----------------+-----------+--------------+----------+
|  1 | Potop | Henryk Sienkiewicz | Wydawnictwo Literackie | 9788308000000 |             500 |         1 |            1 |        1 |
+----+-------+--------------------+------------------------+---------------+-----------------+-----------+--------------+----------+
1 row in set (0.00 sec)

* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Books'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
+------------+--------------+-----------------+-----------------------+------------------------+
| TABLE_NAME | COLUMN_NAME  | CONSTRAINT_NAME | REFERENCED_TABLE_NAME | REFERENCED_COLUMN_NAME |
+------------+--------------+-----------------+-----------------------+------------------------+
| Books      | publisher_id | Books_ibfk_1    | Publishers            | id                     |
| Books      | genre_id     | Books_ibfk_2    | Genres                | id                     |
+------------+--------------+-----------------+-----------------------+------------------------+
2 rows in set (0.00 sec)

* mysql> SHOW CREATE TABLE Deliveries;
+------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table      | Create Table



                                             |
+------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Deliveries | CREATE TABLE `Deliveries` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `book_id` int NOT NULL,
  `order_date` date NOT NULL,
  `delivery_status` enum('sent','pending','cancelled') NOT NULL,
  PRIMARY KEY (`id`),
  KEY `Deliveries_ibfk_1` (`user_id`),
  KEY `Deliveries_ibfk_2` (`book_id`),
  CONSTRAINT `Deliveries_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `Users` (`id`),
  CONSTRAINT `Deliveries_ibfk_2` FOREIGN KEY (`book_id`) REFERENCES `Books` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

* mysql> SELECT * FROM Deliveries;
+----+---------+---------+------------+-----------------+
| id | user_id | book_id | order_date | delivery_status |
+----+---------+---------+------------+-----------------+
|  3 |       1 |       1 | 2024-03-12 | pending         |
|  4 |       1 |       1 | 2024-03-15 | pending         |
+----+---------+---------+------------+-----------------+
2 rows in set (0.00 sec)


* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Deliveries'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
+------------+-------------+-------------------+-----------------------+------------------------+
| TABLE_NAME | COLUMN_NAME | CONSTRAINT_NAME   | REFERENCED_TABLE_NAME | REFERENCED_COLUMN_NAME |
+------------+-------------+-------------------+-----------------------+------------------------+
| Deliveries | user_id     | Deliveries_ibfk_1 | Users                 | id                     |
| Deliveries | book_id     | Deliveries_ibfk_2 | Books                 | id                     |
+------------+-------------+-------------------+-----------------------+------------------------+
2 rows in set (0.00 sec)

* mysql> SHOW CREATE TABLE Genres;
ERROR 1046 (3D000): No database selected
* mysql> USE bookssystem;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
* mysql> SHOW CREATE TABLE Genres;
+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table  | Create Table
                                                                           |
+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Genres | CREATE TABLE `Genres` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

* mysql> SELECT * FROM Genres;
+----+---------------------+
| id | name                |
+----+---------------------+
|  1 | Powiesc historyczna |
|  2 | Dramat              |
|  3 | default_genre       |
+----+---------------------+
3 rows in set (0.00 sec)

* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Genres'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
Empty set (0.00 sec)

* mysql> SHOW CREATE TABLE Notifications;
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table         | Create Table


                                                                 |
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Notifications | CREATE TABLE `Notifications` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `notification_type` enum('email','sms') NOT NULL,
  `message` varchar(255) NOT NULL,
  `sending_date` date NOT NULL,
  PRIMARY KEY (`id`),
  KEY `Notifications_ibfk_1` (`user_id`),
  CONSTRAINT `Notifications_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `Users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> SELECT * FROM Notifications;
+----+---------+-------------------+-----------------------------------------------+--------------+
| id | user_id | notification_type | message                                       | sending_date |
+----+---------+-------------------+-----------------------------------------------+--------------+
|  1 |       1 | email             | Witaj Jan! Twoja ksika "Potop" zostaa wysana. | 2024-03-15   |
+----+---------+-------------------+-----------------------------------------------+--------------+
1 row in set (0.00 sec)

* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Notifications'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
+---------------+-------------+----------------------+-----------------------+------------------------+
| TABLE_NAME    | COLUMN_NAME | CONSTRAINT_NAME      | REFERENCED_TABLE_NAME | REFERENCED_COLUMN_NAME |
+---------------+-------------+----------------------+-----------------------+------------------------+
| Notifications | user_id     | Notifications_ibfk_1 | Users                 | id                     |
+---------------+-------------+----------------------+-----------------------+------------------------+
1 row in set (0.00 sec)

* mysql> SHOW CREATE TABLE Payments;
+----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table    | Create Table


                                            |
+----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Payments | CREATE TABLE `Payments` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `payment_date` date NOT NULL,
  `payment_status` enum('paid','unpaid') NOT NULL,
  `amount` decimal(10,2) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `Payments_ibfk_1` (`user_id`),
  CONSTRAINT `Payments_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `Users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

* mysql> SELECT * FROM Payments;
+----+---------+--------------+----------------+--------+
| id | user_id | payment_date | payment_status | amount |
+----+---------+--------------+----------------+--------+
|  1 |       1 | 2024-03-15   | paid           |  10.99 |
+----+---------+--------------+----------------+--------+
1 row in set (0.00 sec)

* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Payments'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
+------------+-------------+-----------------+-----------------------+------------------------+
| TABLE_NAME | COLUMN_NAME | CONSTRAINT_NAME | REFERENCED_TABLE_NAME | REFERENCED_COLUMN_NAME |
+------------+-------------+-----------------+-----------------------+------------------------+
| Payments   | user_id     | Payments_ibfk_1 | Users                 | id                     |
+------------+-------------+-----------------+-----------------------+------------------------+
1 row in set (0.01 sec)

* mysql> SHOW CREATE TABLE Publishers;
+------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table      | Create Table
                                                                                   |
+------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Publishers | CREATE TABLE `Publishers` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

* mysql> SELECT * FROM Publishers;
+----+------------------------+
| id | name                   |
+----+------------------------+
|  1 | Wydawnictwo Literackie |
|  2 | Wydawnictwo Naukowe    |
|  3 | Wydawnictwo Fantastyki |
|  4 | default_publisher      |
+----+------------------------+
4 rows in set (0.00 sec)

* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Publishers'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
Empty set (0.00 sec)

* mysql> SHOW CREATE TABLE Queue;
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table


                                                                                                        |
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Queue | CREATE TABLE `Queue` (
  `id` int NOT NULL AUTO_INCREMENT,
  `book_id` int NOT NULL,
  `status` enum('available','reserved','borrowed') NOT NULL,
  `user_id` int NOT NULL,
  PRIMARY KEY (`id`),
  KEY `book_id` (`book_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `Queue_ibfk_1` FOREIGN KEY (`book_id`) REFERENCES `Books` (`id`),
  CONSTRAINT `Queue_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `Users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

* mysql> SELECT * FROM Queue;
+----+---------+-----------+---------+
| id | book_id | status    | user_id |
+----+---------+-----------+---------+
|  1 |       1 | available |       1 |
|  2 |       1 | reserved  |       1 |
|  3 |       1 | borrowed  |       1 |
+----+---------+-----------+---------+
3 rows in set (0.00 sec)

* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Queue'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
+------------+-------------+-----------------+-----------------------+------------------------+
| TABLE_NAME | COLUMN_NAME | CONSTRAINT_NAME | REFERENCED_TABLE_NAME | REFERENCED_COLUMN_NAME |
+------------+-------------+-----------------+-----------------------+------------------------+
| Queue      | book_id     | Queue_ibfk_1    | Books                 | id                     |
| Queue      | user_id     | Queue_ibfk_2    | Users                 | id                     |
+------------+-------------+-----------------+-----------------------+------------------------+
2 rows in set (0.00 sec)

* mysql> SHOW CREATE TABLE Rentals;
+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table   | Create Table



                                            |
+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Rentals | CREATE TABLE `Rentals` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `book_id` int NOT NULL,
  `rental_date` date NOT NULL,
  `return_date` date NOT NULL,
  `rental_status` enum('rented','held') NOT NULL,
  PRIMARY KEY (`id`),
  KEY `Rentals_ibfk_1` (`user_id`),
  KEY `Rentals_ibfk_2` (`book_id`),
  CONSTRAINT `Rentals_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `Users` (`id`),
  CONSTRAINT `Rentals_ibfk_2` FOREIGN KEY (`book_id`) REFERENCES `Books` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

* mysql> SELECT * FROM Rentals;
+----+---------+---------+-------------+-------------+---------------+
| id | user_id | book_id | rental_date | return_date | rental_status |
+----+---------+---------+-------------+-------------+---------------+
|  1 |       1 |       1 | 2024-03-15  | 2024-04-15  | rented        |
|  2 |       1 |       1 | 2024-04-16  | 2024-05-16  | held          |
+----+---------+---------+-------------+-------------+---------------+
2 rows in set (0.00 sec)

* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Rentals'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
+------------+-------------+-----------------+-----------------------+------------------------+
| TABLE_NAME | COLUMN_NAME | CONSTRAINT_NAME | REFERENCED_TABLE_NAME | REFERENCED_COLUMN_NAME |
+------------+-------------+-----------------+-----------------------+------------------------+
| Rentals    | user_id     | Rentals_ibfk_1  | Users                 | id                     |
| Rentals    | book_id     | Rentals_ibfk_2  | Books                 | id                     |
+------------+-------------+-----------------+-----------------------+------------------------+
2 rows in set (0.00 sec)

* mysql> SHOW CREATE TABLE Reservations;
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table        | Create Table



                                                            |
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Reservations | CREATE TABLE `Reservations` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `book_id` int NOT NULL,
  `reservation_date` date NOT NULL,
  `reservation_status` enum('reserved','cancelled') NOT NULL,
  PRIMARY KEY (`id`),
  KEY `Reservations_ibfk_1` (`user_id`),
  KEY `Reservations_ibfk_2` (`book_id`),
  CONSTRAINT `Reservations_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `Users` (`id`),
  CONSTRAINT `Reservations_ibfk_2` FOREIGN KEY (`book_id`) REFERENCES `Books` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

* mysql> SELECT * FROM Reservations;
+----+---------+---------+------------------+--------------------+
| id | user_id | book_id | reservation_date | reservation_status |
+----+---------+---------+------------------+--------------------+
|  1 |       1 |       1 | 2024-03-15       | reserved           |
|  2 |       1 |       1 | 2024-03-16       | cancelled          |
+----+---------+---------+------------------+--------------------+
2 rows in set (0.01 sec)

* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Reservations'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
+--------------+-------------+---------------------+-----------------------+------------------------+
| TABLE_NAME   | COLUMN_NAME | CONSTRAINT_NAME     | REFERENCED_TABLE_NAME | REFERENCED_COLUMN_NAME |
+--------------+-------------+---------------------+-----------------------+------------------------+
| Reservations | user_id     | Reservations_ibfk_1 | Users                 | id                     |
| Reservations | book_id     | Reservations_ibfk_2 | Books                 | id                     |
+--------------+-------------+---------------------+-----------------------+------------------------+
2 rows in set (0.00 sec)

* mysql> SHOW CREATE TABLE Roles;
+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table
                                                                                                                     |
+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Roles | CREATE TABLE `Roles` (
  `id` int NOT NULL AUTO_INCREMENT,
  `role_name` varchar(255) NOT NULL,
  `description` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

* mysql> SELECT * FROM Roles;
+----+------------------+-------------------------------------------------+
| id | role_name        | description                                     |
+----+------------------+-------------------------------------------------+
|  1 | Administrator    | Full access to all system functionalities       |
|  2 | Library Employee | Access to manage books, users, and reservations |
|  3 | Reader           | Access to borrow and reserve books              |
+----+------------------+-------------------------------------------------+
3 rows in set (0.00 sec)

* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Roles'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
Empty set (0.00 sec)

* mysql> SELECT
    ->  TABLE_NAME,
    ->  COLUMN_NAME,
    ->  CONSTRAINT_NAME,
    ->  REFERENCED_TABLE_NAME,
    ->  REFERENCED_COLUMN_NAME
    -> FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
    -> WHERE
    ->  TABLE_SCHEMA = 'bookssystem'
    ->  AND TABLE_NAME = 'Users'
    ->  AND REFERENCED_TABLE_SCHEMA IS NOT NULL;
+------------+-------------+-----------------+-----------------------+------------------------+
| TABLE_NAME | COLUMN_NAME | CONSTRAINT_NAME | REFERENCED_TABLE_NAME | REFERENCED_COLUMN_NAME |
+------------+-------------+-----------------+-----------------------+------------------------+
| Users      | role_id     | Users_ibfk_1    | Roles                 | id                     |
+------------+-------------+-----------------+-----------------------+------------------------+
1 row in set (0.00 sec)

* mysql> SHOW CREATE TABLE Users;
+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table



                                                                                         |
+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Users | CREATE TABLE `Users` (
  `id` int NOT NULL AUTO_INCREMENT,
  `first_name` varchar(255) NOT NULL,
  `last_name` varchar(255) NOT NULL,
  `username` varchar(255) NOT NULL,
  `password` varchar(255) NOT NULL,
  `token` varchar(255) NOT NULL,
  `email` varchar(255) NOT NULL,
  `phone` varchar(255) NOT NULL,
  `role_id` int NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `login` (`username`),
  UNIQUE KEY `token` (`token`),
  KEY `role_id` (`role_id`),
  CONSTRAINT `Users_ibfk_1` FOREIGN KEY (`role_id`) REFERENCES `Roles` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

* mysql> SELECT * FROM Users;
+----+------------+-----------+--------------+----------+----------+--------------------------+-----------+---------+
| id | first_name | last_name | username     | password | token    | email                    | phone     | role_id |
+----+------------+-----------+--------------+----------+----------+--------------------------+-----------+---------+
|  1 | Jan        | Kowalski  | jan.kowalski | haslo123 | token123 | jan.kowalski@example.com | 123456789 |       3 |
+----+------------+-----------+--------------+----------+----------+--------------------------+-----------+---------+
1 row in set (0.00 sec)

mysql>
a